---
layout: blog
istop: true
title: "Git Bash 操作"
mark: 原创+引用
background-image: https://git-scm.com/images/branching-illustration@2x.png
# background: green
date:  2018-06-08
category: 学习笔记
tags:
- Git Bash
---

# Git Bash 操作

## Git基本常用命令如下：
```
mkdir：         XX (创建一个空目录 XX指目录名)

pwd：          显示当前目录的路径。

git init          把当前的目录变成可以管理的git仓库，生成隐藏.git文件。

git add XX       把xx文件添加到暂存区去。

git commit –m “XX”  提交文件 –m 后面的是注释。

git status        查看仓库状态

git diff  XX      查看XX文件修改了那些内容

git log          查看历史记录

git reset  --hard HEAD^ 或者 git reset  --hard HEAD~ 回退到上一个版本 // (如果想回退到100个版本，使用git reset –hard HEAD~100 )

cat XX         查看XX文件内容

git reflog       查看历史记录的版本号id

git checkout -- XX  把XX文件在工作区的修改全部撤销。

git rm XX          删除XX文件

git remote add origin <https://github.com/tugenhua0707/testgit> 关联一个远程库

git push –u(第一次要用-u 以后不需要) origin master 把当前master分支推送到远程库

git clone <https://github.com/tugenhua0707/testgit>  从远程库中克隆

git checkout –b dev  创建dev分支 并切换到dev分支上

git branch  查看当前所有的分支

git checkout master 切换回master分支

git merge dev    在当前的分支上合并dev分支

git branch –d dev 删除dev分支

git branch name  创建分支

git stash 把当前的工作隐藏起来 等以后恢复现场后继续工作

git stash list 查看所有被隐藏的文件列表

git stash apply 恢复被隐藏的文件，但是内容不删除

git stash drop 删除文件

git stash pop 恢复文件的同时 也删除文件

git remote 查看远程库的信息

git remote –v 查看远程库的详细信息

git push origin master  Git会把master分支推送到远程库对应的远程分支上
```

## 初始化项目
```
git init

git git add [文件名] // 添加文件到暂存区，提交当前目录全部文件文件名填"."

git commit -m '内容' // 提交内容， 加[-m '内容']为为当次提交添加注释

git status // 查看是否还有文件未提交

git diff [文件名]// 比较差异

git log //查看日志 (git log –pretty=oneline, '单行显示日志')

git reset  --hard HEAD^ // 回退到上一个版本,如果要回退到上上个版本只需把HEAD^ 改成 HEAD^^ 以此类推,(git reset  --hard HEAD~100 , '回退到前100个版本')

git reset  --hard [版本号] // 回退到指定版本 (git reflog, '获取版本号')
```

## Clone 项目
```
git clone git@git.oschina.net:ifengye/test.git //SSH地址
```

## 提交项目
```
git pull origin master
git add .
git commit -m 'init' //init为说明文字
git commit --amend //查看当前log
git push origin master
```

## 远程仓库
在了解之前，先注册github账号，由于你的本地Git仓库和github仓库之间的传输是通过SSH加密的，所以需要一点设置：
第一步：创建SSH Key。在用户主目录下，看看有没有.ssh目录，如果有，再看看这个目录下有没有id_rsa和id_rsa.pub这两个文件，如果有的话，直接跳过此如下命令，如果没有的话，打开命令行，输入如下命令：
```
ssh-keygen  -t rsa –C “youremail@example.com”
```
,由于我本地此前运行过一次，所以本地有，如下所示：
![avatar](http://www.admin10000.com/UploadFiles/Document/201410/27/20141027155323753352.PNG)
id_rsa是私钥，不能泄露出去，id_rsa.pub是公钥，可以放心地告诉任何人。
第二步：登录github,打开” settings”中的SSH Keys页面，然后点击“Add SSH Key”,填上任意title，在Key文本框里黏贴id_rsa.pub文件的内容。
![avatar](http://www.admin10000.com/UploadFiles/Document/201410/27/20141027155323355322.PNG)
点击 Add Key，你就应该可以看到已经添加的key。
![avatar](http://www.admin10000.com/UploadFiles/Document/201410/27/20141027155323592489.PNG)

1.  如何添加远程库？
现在的情景是：我们已经在本地创建了一个Git仓库后，又想在github创建一个Git仓库，并且希望这两个仓库进行远程同步，这样github的仓库可以作为备份，又可以其他人通过该仓库来协作。
首先，登录github上，然后在右上角找到“create a new repo”创建一个新的仓库。如下：
![avatar](http://www.admin10000.com/UploadFiles/Document/201410/27/20141027155323213968.PNG)
在Repository name填入testgit，其他保持默认设置，点击“Create repository”按钮，就成功地创建了一个新的Git仓库：
![avatar](http://www.admin10000.com/UploadFiles/Document/201410/27/20141027155323934746.PNG)
目前，在GitHub上的这个testgit仓库还是空的，GitHub告诉我们，可以从这个仓库克隆出新的仓库，也可以把一个已有的本地仓库与之关联，然后，把本地仓库的内容推送到GitHub仓库。
现在，我们根据GitHub的提示，在本地的testgit仓库下运行命令：
```
git remote add origin <https://github.com/tugenhua0707/testgit.git>
```
所有的如下：
![avatar](http://www.admin10000.com/UploadFiles/Document/201410/27/20141027155323816495.PNG)
把本地库的内容推送到远程，使用 git push命令，实际上是把当前分支master推送到远程。
由于远程库是空的，我们第一次推送master分支时，加上了 –u参数，Git不但会把本地的master分支内容推送的远程新的master分支，还会把本地的master分支和远程的master分支关联起来，在以后的推送或者拉取时就可以简化命令。推送成功后，可以立刻在github页面中看到远程库的内容已经和本地一模一样了，上面的要输入github的用户名和密码如下所示：   ![avatar](http://www.admin10000.com/UploadFiles/Document/201410/27/20141027155323652630.PNG)
从现在起，只要本地作了提交，就可以通过如下命令：
```
git push origin master
```
把本地master分支的最新修改推送到github上了，现在你就拥有了真正的分布式版本库了。

2.  如何从远程库克隆？
上面我们了解了先有本地库，后有远程库时候，如何关联远程库。
现在我们想，假如远程库有新的内容了，我想克隆到本地来 如何克隆呢？
首先，登录github，创建一个新的仓库，名字叫testgit2.如下：  ![avatar](http://www.admin10000.com/UploadFiles/Document/201410/27/20141027155323066741.PNG)
如下，我们看到：
![avatar](http://www.admin10000.com/UploadFiles/Document/201410/27/20141027155323087143.PNG)
现在，远程库已经准备好了，下一步是使用命令git clone克隆一个本地库了。如下所示：
![avatar](http://www.admin10000.com/UploadFiles/Document/201410/27/20141027155323653601.PNG)
接着在我本地目录下 生成testgit2目录了，如下所示：
![avatar](http://www.admin10000.com/UploadFiles/Document/201410/27/20141027155323810970.PNG)
