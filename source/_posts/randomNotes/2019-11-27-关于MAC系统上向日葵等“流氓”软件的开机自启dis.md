---
layout: blog
# istop: true
title: "关于MAC系统上向日葵等“流氓”软件的开机自启dis"
mark: 原创
# background-image: https://o243f9mnq.qnssl.com/2017/06/116099051.jpg
background: notes
date:  2019-11-27
category: 随拾
tags:
- macOS
---

##### 题记 
因为近期teamviewer遭到入侵，所以对于远控软件不得不重新选择。然后就入了向日葵的坑了...然后我就各种baidu、google，最后总算是战胜了“流氓”。  

## MAC管理开机自启的两种方式
#### 系统偏好设置里的开机自启（登录项/LoginItem）
这种方式最简单直观
![系统偏好设置1][]
![系统偏好设置2][]

#### 通过plist文件管理开机自启
MAC分别有6个目录存放了开启自启的plist文件
> Library/Preferences/ – （当前用户设置的进程）
> ~/Library/LaunchAgents/ – （当前用户的守护进程）
> /Library/LaunchAgents/ – （管理员设置的用户进程）
> /Library/LaunchDaemons/ – （管理员提供的系统守护进程）
> /System/Library/LaunchAgents/ – （系统提供的用户进程）
> /System/Library/LaunchDaemons/ – （系统提供的系统守护进程）

这里以向日葵为例，安装了向日葵客户端和控制端后，分别在`/Library/LaunchAgents/`、`/Library/LaunchDaemons/`目录生成了4个plist文件：
打开终端，输入：
```shell
open /Library/LaunchAgents
```  
![LaunchAgents文件夹][]
使用任意文本编辑器编辑`com.oray.sunlogin.agent.plist`、`com.oray.sunlogin.startup.plist`两个文件，将Disabled改为true，将RunAtLoad改为false：
![com.oray.sunlogin.agent.plist文件][]
![com.oray.sunlogin.startup.plist文件][]
打开终端，输入：
```shell
open /Library/LaunchDaemons
```  
![LaunchDaemons文件夹][]
编辑`com.oray.sunlogin.helper.plist`、`com.oray.sunlogin.plist`文件，将Disabled改为true，将RunAtLoad改为false：
![com.oray.sunlogin.helper.plist文件][]
![com.oray.sunlogin.plist文件][]

这样，下次开机，向日葵便不会自启了。


[系统偏好设置1]: https://s2.ax1x.com/2020/02/10/15yJ9H.png
[系统偏好设置2]: https://s2.ax1x.com/2020/02/10/15ygvn.png
[LaunchAgents文件夹]: https://s2.ax1x.com/2020/02/10/15ybvR.png
[com.oray.sunlogin.agent.plist文件]: https://s2.ax1x.com/2020/02/10/15yXb6.png
[com.oray.sunlogin.startup.plist文件]: https://s2.ax1x.com/2020/02/10/1561rq.png
[LaunchDaemons文件夹]: https://s2.ax1x.com/2020/02/10/156sZ6.png
[com.oray.sunlogin.helper.plist文件]: https://s2.ax1x.com/2020/02/10/1564sI.png
[com.oray.sunlogin.plist文件]: https://s2.ax1x.com/2020/02/10/156bFS.png
